.entryp main;
.section data;
	string prompt "What is the answer to the following? ";
	string times " x ";
	string add " + ";
	string subtract " - ";
	string eq " = ";
	string nl "\n";
	string correct "You answered correctly with ";
	string incorrect "Wrong! The correct answer is ";
	string tryagain "Would you like to try again? (1 = yes): ";
.section code;
	.sub askretry;
		print @tryagain;
		geti %g1;
		cmp %g1 $1;
		je !ask;
		halt;
	.ends;
	.sub correct;
		pop %g1;
		print @correct;
		print %g1;
		print @nl;
		jmp !askretry;
	.ends;
	.sub incorrect;
		pop %g1;
		print @incorrect;
		print %g1;
		print @nl;
		jmp !askretry;
	.ends;
	.sub ask;
		rand %g1;
		rand %g2;
		add %g1 %g2;
		push %m;
		print @prompt;
		print %g1;
		print @add;
		print %g2;
		print @eq;
		geti %g3;
		cmp %m %g3;
		je !correct;
		jmp !incorrect;
	.ends;
	.sub main;
		jmp !ask;
	.ends;

